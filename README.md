# IS477-project
[dataset](https://google.com/url?q=https://uofi.box.com/s/yde3waf6p8som896zs1qj4agykjfpia6&sa=D&source=docs&ust=1765177106927781&usg=AOvVaw2KN9o2ENRhIHU_rNd4S1A5)

Summary: [500-1000 words] Description of your project, motivation, research question(s), and any findings.

When thinking of what questions to answer with our project, Zach and I were particularly interested in the relation between housing data and crime. As a Finance + Data Science major, I have worked with lots of financial instruments. In the past, I have made models to look at and interpret/understand stocks. Additionally, my father is a real estate agent, whom I have worked alongside with for sometime to learn some of the basics of real estate investing. Zach thought it would be interesting to look at crime rates and school ratings by location to see the impact on house values. Once we decided to look at housing data, we formulated our research question. How does crime in specific locations affect real estate market prices? The reason we did not incorporate other factors like school ratings(Zach wanted this one) was due to time constraints. This would be something to look into for future work. One key point to note is we solely looked at specific indicators(types of houses) and regions(location). We did not break down specific houses by utility, amenities, size, condition of house, age of house, or other factors. We did this because we wanted a more holistic analysis of housing data by region rather than looking at specific homes. In picking our datasets, we decided to look at Zillow housing data, consisting of three datasets, showing the house value, location, and indicator(what type of house for example). Zillow’s website had clean data along with very specific information on the schema, helping us interpret and analyze the housing data. For our crime data, we just needed to find sufficient crime information that matched the locations in our Zillow data. At first, we found a poor dataset from kaggle that had many data quality issues, but in the end, we were able to use government data that had various crime data from cities around the country. In our analysis, we learned that crime has an impact on housing data for certain major cities like Chicago, IL; however, there are many other factors such as inflation which impact housing values. Particularly in Chicago, we saw how crime affects housing values but is delayed, meaning if crime increases in one year, the effect on housing values will be shown a year later. When looking at smaller cities, we saw little to no impact of crime on housing data. This may be because larger cities have more crime and reputation of crime to negatively impact house values. 





Data Profile: [500-1000 words] Description of each dataset used including all ethical/legal constraints.

The Zillow website did a great job of explaining the schema of the three housing datasets. Since our goal was to look at housing data, each of the datasets described a particular aspect. One looked at the value of the houses broken down by indicator_id, region_id, date of listing, and value of the house. The other dataset looked at the location of the listings broken down by region_id, region_type, and region. Finally, the last data set looks at indicators describing the house broken down by indicator_id, indicator describing the house linked with the id, and category showing the indicator category. Particular variables of interest are region_id to look at the location of houses and indicator_id which indicates specific information about each house. The region_id is broken up into many parts, relating to zip code and county. Since our crime data set has crime data only linked to the city and state, we extracted the city and state from region_id so that we could match the crime data with the Zillow data. The indicator_id variable looks at the information regarding the house such as how many bedrooms it has and listing information. Specifically, we looked at indicator_ids that were related to home values represented by the category variables titled “Home Values”. Moving on, Zach and I used crime data based on the region_id in order to see if home value is related to crime. Our crime dataset has many different variables looking at all the crimes from 1960-2024 that occurred in a specific city and state. Since we were not able to interpret many of these variables along with the fact that many of them were not helpful for our research question. We decided to look at actual_murder, actual_rape_total, actual_robbery_total, actual_assault_total, and actual_theft_total, summing these values to create an estimate for our total_crime value. We used this variable to judge crime for specific cities in the city_state variable.

Now that we understand our schema for the housing data while also developing a crime value to judge crime per city, we decided to create a final_df that merges all the important variables from the housing data along with the total_incidents(measuring total crime incidents from 1960-2014). In our final_df dataframe, we look at the variables of region_id to specify house location, indicator_id to specify information about the house, date of the listing, house value in dollars, and total_crime from 1960-2014. The zillow dataset comes from the Nasdaq data link website and is free data that Nasdaq has collected from various sites. The crime dataset comes from a research article written by Jacob Kaplan and Princeton University who published the dataset under a creative commons license. However, they originally sourced the data from the Federal Bureau of Investigation’s Uniform Crime Reporting Program which is published in the public domain since it comes from the government. 

 
Data Quality: [500-1000 words] Summary of the quality assessment and findings.

To clean the data, I (Zach) had to merge the region, the crime dataset, and the home value dataset all together. For the region dataset all the formats for how the region is stored is different depending on the region type. 

For example, the regions with the zip region type included the zip code, the greater area, the city, state and county. 
Furthermore the region types with the metro region type included only the city and state so I just renamed that column. 
And there were some that only included the state so I dropped those because they didn’t have any data about the city. 
Since all the formats were different I split the larger regions dataset into subsets based on their region type. I then split the long string and parsed the data for each individual region type to only get the city and state data. I then remerged all the subsets together to get the larger dataset with the city and state as separate columns. 

I then merged this cleaned dataset with the zillow home values dataset using the region id because that is the attribute they had in common. In addition we had to filter the indicator dataset to only include indicators that were related to the actual housing values as some of them were related to inventory data. I then combined the indicator dataset with the previous merged zillow dataset based on the indicator to create one massive dataset that includes all the zillow data of interest. 

I noticed in the crime dataset that the city was all lowercase and in the zillow state the first letter was capitalized. Because of this I had to convert the first letter of the city name into uppercase so that there could be a common naming convention. Furthermore, some of the rows in the crime dataset didn’t have a city and were replaced with the state abbreviation instead so I had to only filter where the city length was greater than two to help fix this problem and help reduce the run time. The crime dataset also had a lot more columns than were needed so we created a smaller dataframe to only include the data that was related to the crimes. Some of the city state combos had multiple rows of data within the same year so we summed up the total crime for each type of that year to help for merging later on. We also created a new column called total crime to see the total number of crimes that happened in each city, state per year. This total crime might not be 100% accurate because we only chose a subset of the crimes as an estimate of the total crime that happened in a city, state in a given year. 

In both datasets I then created a new column that combined the city and state to help later on with the data analysis. In addition I created a new column that combined the year, city, and state so that I could merge the two dataframes (the zillow and the crime) together. 

In the final dataset there were some houses in the same year that had the same year, city_state, and indicator so we took the average of these values to only have one row of each unique year, city, state, and indicator combo. 

We are only looking at data from 2014-2024 so I had to filter both the zillow and the crime dataset to only include those years. We chose these years because 2025 isn’t over yet so we decided to use 2024 instead. Furthermore we chose a range of 11 years because it provides a good balance of relevancy along with being able to see overall trends. 

Overall the crime dataset was already pretty clean and not much additional data had to be done. We only had to get the columns of interest and change some of the naming conventions in the data so that it could match with the zillow dataset. On the other hand, the zillow dataset had to be cleaned a lot more due to the inconsistencies of how its location data was stored. 



Findings: [~500 words] Description of any findings including numeric results and/or visualizations.

From our data_cleaning file, we constructed our final_df dataframe that merges the important variables from the zillow housing data and crime data. Since there are over a thousand houses in our data, a visualization capturing all of them would be unhelpful. For this reason, we decided to only analyze cities with the highest average crime over the past ten years(2014-2024). 



Our first two graphs look at the total crimes and average home value for each city state. When putting these graphs side by side, we can see in 2020 to 2021, when there is a major dip in crime for Phoenix, AZ, the mean housing value jumps up. This shows promising signs of how crime may affect housing values. However, if we look at Chicago, IL, the mean housing value stays relatively the same in 2021-2022 with a slight dip in 2022-2023; yet, the total crimes increase drastically from 2022-2023. Overall, we see an increase in home values starting around 2018 with little change in total crimes. We can conclude that while crime values affect home values, there are many other variables like school ratings(we get into this in the future work section) that impact housing values. 

In generating the next five graphs, I created a function to plot the home values and total crimes(2 y axes for both) for the past 11 years(on the x-axis). I then used this function to generate 5 graphs for the top 5 cities with the highest average total crime over the past 11 years. In this analysis, I only show two of the five graphs: Chicago, IL and Houston, TX


In this graph of Chicago housing values and crime, we can see housing values rise despite crime rising slightly/staying around the same level. Again, this is probably because other factors impact housing values besides crime. I did slight outside research to look at potential factors. For example, the economy started booming in the mid 10s after the 2008 recession, causing an increase in housing supply to meet high demand. This along with crime reduction in the South Side of Chicago accounted for the rise in home_values. From 2021 to 2022, we see a significant rise in crime; yet, the drop in home values happens a year later from 2022-2023. This may imply that the housing market reacts late to crime data, potentially by a year.




Based on this graph, we can see there is practically no negative correlation between crime and housing data. Due to various factors like housing improvements and scarcity of land, housing values generally appreciate. While this is a general trend of housing data, Zach and I would like to uncover other factors contributing to this appreciation.

Overall, we learned that housing values generally appreciate overtime. In generating numerous visualizations, almost all housing values increased(probably due to inflation). For this reason, using crime to assess housing values is not enough. Nonetheless, learning about crime in particular cities was still helpful as we did see some impact as shown by the Chicago, IL graph.



Future Work: [~500-1000 words] Brief discussion of any lessons learned and potential future work.

In working with the Zillow Housing and Crime datasets, Zach and I learned a lot through the difficulties of schema design and data cleaning. For the majority of our project, we used a different crime dataset that looked at crime from 1980 to 2014. This crime dataset did not contain many cities_states that matched with our Zillow Housing city_states. When trying to merge these datasets, we came into many problems, resulting in a very unhelpful final_df. One major issue was that our original crime data was not recorded in a time-series format. For our Zillow Data, each housing listing would be updated every time the value changed. Our crime dataset did not follow this updating timeline; thus, resulting in many problems. After realizing this, we decided to search for a better crime dataset. We searched around and found our new crime data set from Jacob Kaplan. Kaplan collected data from the Federal Bureau of Investigation’s Uniform Crime Reporting Program(government) and consolidated and cleaned it. This dataset was much more helpful and allowed to have over 7000 matching cities from our Zillow data. Despite it taking time to filter our data(2014-2024), clean mismatched values, remove unnecessary values(due to storage/memory and runtime constraints), our final_df or merged dataset was completed with accurate, relevant information for our project. In this process, we learned, it is important to assess data quality, data provenance, and meta data in order to ensure our “future” analysis won’t be too difficult to do. Since we did not put as much time in this, in the middle of our project, we had to find a new crime dataset. Next time with a different project, Zach and I would spend more time with these assessments to ensure we have reliable data that we realistically can clean and analyze without “too much” unnecessary work.

	Additionally, we learned how and when to make assumptions and decisions in assessing and interpreting the data. For example, with our original crime dataset, we decided not to go through with it because it did not follow a time-series format, rendering it useless in applying it to the Zillow housing data. However, when assessing Jacob Kaplan’s crime data, we decided we could use it even though we had to make assumptions to estimate total_crime. Our main assumption was that our total_crime variable was the sum of actual_murder, actual_rape_total, actual_robbery_total, actual_assault_total, and actual_theft_total. There were many other crime variables in Kaplan’s data; however, we were not sure how to interpret them and thought some of them were too specific for our needs. In the future, it would be worth diving into which crime variables are the most important for impacting the reputation of particular neighborhoods. Which specific crime factors affect housing values the most? We did not answer this question directly but made an estimate by summing the variables mentioned above to have our total_crime variable by city_state. Zach and I believe this estimate is ok for the sake of this project; we could look more into this in the future. 

	For the future, we look at other datasets and variables to add to our final_df merged dataset. For example, in the graphs, I pointed out that houses generally appreciate overtime. A big part of this is inflation. In the future, we could look at inflation rates over time and incorporate that in the home value pricing. In the beginning of this project, Zach and I wanted to incorporate school ratings into the home value pricing. We had found a couple of datasets; however, we ran into multiple problems and decided to stick with crime data first. Since we did not have much time and ability to add school_ratings, we couldn’t add it. Lastly, economic data would be helpful to add to pricing home values. Particularly, looking at interest rates, property tax policy, and expectations/fears of recessions and booms is vital to assessing home values. This would obviously require much more economic research into the real estate market. For example, for the early and mid 2010s data, expectation of a bounceback in interest rates after the bailout of banks could increase sentiment to invest in the real estate market; thus, driving up real estate home values.

	Finally, the last and one of the most important changes we could make is rethinking how we view crime’s impact on housing values. Maybe the change in crime from a year to year basis has more of an effect on crime. Or maybe the average growth/decline of crime of the last 3 years has more of an impact. Since housing data was updated at the end of each month for the Zillow dataset, we could have looked at crime data by month instead of year as well. Whatever it may be, researching specific implications of crime overtime would be helpful in assessing its impact on house values.

Reproducibility: 

To reproduce the results a user will have to clone the github repository and download the files from the box link that are located at the time of the report. These files were too big to push to Github so had to be stored someplace else. After downloading the files from the box link, the user needs to place these files in the data folder that was cloned from the github repository. The user will then have to navigate the terminal and then navigate to the folder of the cloned github repository. Once the user is inside that folder they will need to type “python run_all.py” to reproduce the results. All the output visualizations will be put into an output folder. 

References: 

Kaplan, Jacob. Jacob Kaplan’s Concatenated Files: Uniform Crime Reporting Program Data: Offenses Known and Clearances by Arrest (Return A), 1960-2024. Ann Arbor, MI: Inter-university Consortium for Political and Social Research [distributor], 2025-08-21. https://doi.org/10.3886/E100707V22

Nasdaq Data Link. (2025). Zillow real-estate data (ZILLOW) [Data set]. Nasdaq Data Link. https://data.nasdaq.com/databases/ZILLOW



